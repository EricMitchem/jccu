///////////////////////////////////////////////////////////////////////////////
/// Includes
///////////////////////////////////////////////////////////////////////////////
#include "edit_good_dialog.h"

#include <QPushButton>
#include "application.h"
#include "good_manager.h"
#include "ui_EditGoodDialog.h"

namespace jccu
{

///////////////////////////////////////////////////////////////////////////////
/// Constructor.
///////////////////////////////////////////////////////////////////////////////
EditGoodDialog::EditGoodDialog(QWidget* parent)
  : QDialog(parent),
    ui_(new Ui::EditGoodDialog)
{
  ui_->setupUi(this);

  auto good_manager = Application::Instance()->goodManager();
  ui_->comboBox->setModel(good_manager);
  ui_->comboBox->setModelColumn(1);
  ui_->buttonBox->button(QDialogButtonBox::Cancel)->setDefault(true);
}


///////////////////////////////////////////////////////////////////////////////
/// Destructor.
///////////////////////////////////////////////////////////////////////////////
EditGoodDialog::~EditGoodDialog()
{
  delete ui_;
}


///////////////////////////////////////////////////////////////////////////////
/// Sets the text of the label.
///////////////////////////////////////////////////////////////////////////////
void EditGoodDialog::setText(const QString& text)
{
  ui_->label->setText(text);
}


///////////////////////////////////////////////////////////////////////////////
/// Returns the chosen good.
///////////////////////////////////////////////////////////////////////////////
QString EditGoodDialog::good() const
{
  return ui_->comboBox->currentText();
}

} // namespace jccu