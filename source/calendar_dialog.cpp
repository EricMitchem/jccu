//////////////////////////////////////////////////////////////////////////////
/// Includes
//////////////////////////////////////////////////////////////////////////////
#include "calendar_dialog.h"

#include "ui_CalendarDialog.h"

namespace jccu
{

//////////////////////////////////////////////////////////////////////////////
/// Constructor.
//////////////////////////////////////////////////////////////////////////////
CalendarDialog::CalendarDialog(QWidget* parent)
  : QDialog(parent),
    ui_(new Ui::CalendarDialog)
{
  ui_->setupUi(this);

  connect(ui_->calendarWidget, &QCalendarWidget::activated,
          this, &QDialog::accept);
}


//////////////////////////////////////////////////////////////////////////////
/// Destructor.
//////////////////////////////////////////////////////////////////////////////
CalendarDialog::~CalendarDialog()
{
  delete ui_;
}


///////////////////////////////////////////////////////////////////////////////
/// Sets the selected date of the calendar widget.
///////////////////////////////////////////////////////////////////////////////
void CalendarDialog::setSelectedDate(const QDate& date)
{
  ui_->calendarWidget->setSelectedDate(date);
}


//////////////////////////////////////////////////////////////////////////////
/// Returns the selected date.
/// Only valid if the dialog has been accepted.
//////////////////////////////////////////////////////////////////////////////
QDate CalendarDialog::selectedDate() const
{
  return ui_->calendarWidget->selectedDate();
}

} // namespace jccu